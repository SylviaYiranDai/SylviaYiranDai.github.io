<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Reading reports," />










<meta name="description" content="Content   Extract Personal thinking  ExtractPartA The basics of business cycles We can blame animal spirits, irrational exuberance, or the bogeyman for that matter, but booms and bubbles — and the bus">
<meta property="og:type" content="article">
<meta property="og:title" content="Dust of the era can become the huge hill on an individual -- Thinking on Economics Through Everyday Life Chapter7 Booms, bubbles, &amp; busts">
<meta property="og:url" content="http://example.com/2022/02/07/RR%202022-02-07%20Economics%20through%20everyday%20life%20Chapter7/index.html">
<meta property="og:site_name" content="Sylvia&#39;s Blog">
<meta property="og:description" content="Content   Extract Personal thinking  ExtractPartA The basics of business cycles We can blame animal spirits, irrational exuberance, or the bogeyman for that matter, but booms and bubbles — and the bus">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-02-06T16:00:00.000Z">
<meta property="article:modified_time" content="2022-03-05T05:11:14.670Z">
<meta property="article:author" content="Sylvia Dai">
<meta property="article:tag" content="Reading reports">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/2022/02/07/RR 2022-02-07 Economics through everyday life Chapter7/"/>





  <title>Dust of the era can become the huge hill on an individual -- Thinking on Economics Through Everyday Life Chapter7 Booms, bubbles, & busts | Sylvia's Blog</title>
  








<meta name="generator" content="Hexo 5.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Sylvia's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"> </p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/02/07/RR%202022-02-07%20Economics%20through%20everyday%20life%20Chapter7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/Upload/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sylvia's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Dust of the era can become the huge hill on an individual -- Thinking on Economics Through Everyday Life Chapter7 Booms, bubbles, & busts</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-02-07T00:00:00+08:00">
                2022-02-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><strong>Content</strong> </p>
<ol>
<li><em>Extract</em></li>
<li><em>Personal thinking</em></li>
</ol>
<h1 id="Extract"><a href="#Extract" class="headerlink" title="Extract"></a>Extract</h1><h2 id="PartA-The-basics-of-business-cycles"><a href="#PartA-The-basics-of-business-cycles" class="headerlink" title="PartA The basics of business cycles"></a>PartA The basics of business cycles</h2><ul>
<li>We can blame animal spirits, irrational exuberance, or the bogeyman for that matter, but booms and bubbles — and the busts that result — have been recurring features of our economy for at least as long as economic data has been recorded.</li>
<li>The terms booms, bubble, and bust are used in the financial press because they have a dramatic ring to them, but they belong to a broader discussion of business cycles, a discussion that uses terms that aren’t nearly so dramatic.</li>
<li>Economics activity tends to rise and fall over time, and these fluctuations are commonly referred to as business cycles.</li>
<li>The presence and phases of business cycles are typically indicated and measured by changes in real GDP over time.</li>
<li>A single business cycle has four basic phases<ul>
<li>At the peak of a business cycle, total production in the economy is temporarily maxed out.</li>
<li>After the economy peaks, it goes into recession.</li>
<li>A business cycle bottoms out at its trough, or low point. In the trough, real GDP is at a temporary minimum, and — unless other negative influences come into play — unemployment is at a temporary maximum.</li>
<li>The expansion phase of the business cycle begins just after the trough, and it entails the economy’s climb toward a new peak.</li>
</ul>
</li>
</ul>
<h2 id="PartB-What-causes-business-cycles"><a href="#PartB-What-causes-business-cycles" class="headerlink" title="PartB What causes business cycles?"></a>PartB What causes business cycles?</h2><ul>
<li>Through years of observation and research, however, economists have identified two major factors that definitely influence business cycles<ul>
<li>Economic shocks<ul>
<li>These are unforeseen events that affect the economy and can create fluctuations in business activity.</li>
</ul>
</li>
<li>Monetary policy</li>
</ul>
</li>
<li>Throughout the 1990s and into the first few years of the current century — the period of “irrational exuberance” — some analysts began to wonder whether the business cycle might even be dead. Then, in late 2007, along came a financial crisis to remind everyone that business cycles are alive and well, and that no one has yet come up with a satisfactory answer to the question of what causes them.</li>
<li>Cyclical unemployment doesn’t appear in the expansionary phase of the business cycle. It only appears in the trough or during a recession.</li>
</ul>
<h2 id="PartC-Recessions-and-depressions"><a href="#PartC-Recessions-and-depressions" class="headerlink" title="PartC Recessions and depressions"></a>PartC Recessions and depressions</h2><ul>
<li>As the old economics joke has it, in a recession, your neighbours lose their jobs; in a depression, you lose yours.</li>
<li>Recessions in the United States<ul>
<li>Since the end of World War II, according to the NBER, there have been 11 recessions in the United States.</li>
<li>A key feature of any recession is a broad economic downturn, but a recession doesn’t affect all industries and all firms in the same way.</li>
</ul>
</li>
<li>The Great Depression<ul>
<li>The Great Depression truly was “great”. No economic downturn that our country has experienced since then has equaled the Depression’s severity or its economic impact in terms of unemployment, falling stock prices, bank failures, personal bankruptcies, and all-around pain and suffering.</li>
<li>In addition to our improved understanding of the economy and monetary economics, we now have a social safety net, a system of protections that mostly didn’t exist during the Great Depression.</li>
<li>Given everything we’ve learned up to this point in our history, a repeat of the Great Depression looks like a very remote possibility.</li>
</ul>
</li>
</ul>
<h2 id="PartD-From-boom-to-bubble-to-bust"><a href="#PartD-From-boom-to-bubble-to-bust" class="headerlink" title="PartD From boom to bubble to bust"></a>PartD From boom to bubble to bust</h2><ul>
<li>Some people use the terms expansion and boom fairly interchangeably, and there’s actually no technical distinction between an expansion and a boom.</li>
<li>Often a boom indicates that the economy is overheating, and that suppliers of goods and services are suddenly unable to keep up with demand.</li>
<li>When prices of certain assets, such as stocks or real estate, aren’t supported by the underlying fundamentals — the factors that determine the actual market value of those assets — it’s often said that a bubble, or asset bubble, has developed (synonymous terms include speculative bubble, market bubble, and price bubble).</li>
<li>An economic boom is typically followed by an economic bust. During a bust, real GDP falls, unemployment rises, and any asset bubbles that have been brewing are not set to burst.</li>
<li>In the summer of 2015, there was a drastic drop in the prices of Chinese stocks. It turned out that the Chinese government had created an asset bubble by reporting an inaccurate growth rate for the Chinese economy.</li>
</ul>
<h2 id="PartE-The-2007-2008-financial-crisis-Who’s-to-blame"><a href="#PartE-The-2007-2008-financial-crisis-Who’s-to-blame" class="headerlink" title="PartE The 2007-2008 financial crisis: Who’s to blame?"></a>PartE The 2007-2008 financial crisis: Who’s to blame?</h2><ul>
<li>Entire books have been written about the crisis, but in summary it began with a housing bubble fuelled by low interest rates engineered by the Fed, combined with the federal government’s encouragement for almost every American to own a home, if possible.</li>
<li>Vast numbers of home loans, including a large number of subprime loans, were sold on the secondary market by the original leaders. These loans were then bundled together, and the bundles were used to create opportunities for investors.</li>
<li>Wall Street firms began to create additional investment opportunities by issuing various kinds of derivatives, or financial instruments related to the mortgage-backed securities.</li>
<li>When housing prices finally reached unsustainable levels, the bubble burst, and the house of cards collapsed. Housing prices rapidly dropped by hundreds of thousands of dollars.</li>
<li>Many lessons have been learned from the 2007-2008 financial crisis, and there are still more to be gleaned fro retroactive examination of the facts.<ul>
<li>The Fed’s low interest rates laid the foundation for a housing bubble to develop, but the low interest rates in and of themselves didn’t cause the bubble.</li>
<li>The fact that some mortgage companies engaged in questionable lending practices contributed to the problem, but the mortgage companies wouldn’t have been able to make so many subprime loans if the money had not been so readily available, and if the government hadn’t implicitly endorsed such weak lending standards.</li>
<li>The esoteric financial instruments created and marketed by Wall Street firms definitely added to the problem, but there wouldn’t have been so many of those instruments if there hadn’t been so many subprime loans availed for bundling.</li>
<li>Borrowers were sometimes the targets of predatory lending, but perhaps they should have known that they were taking out bigger loans than they could afford.</li>
</ul>
</li>
<li>Clearly, there’s plenty of blame to go around for the housing bubble and the financial crisis that followed. The question of who deserves the most blame is one that will probably never have a definitive answer, at least not from anyone who tries to analyse these events objectively.</li>
</ul>
<h1 id="Personal-thinking"><a href="#Personal-thinking" class="headerlink" title="Personal thinking"></a>Personal thinking</h1><p>These days, I watched several documentaries about the financial crisis happened by the end of the first decade of the 21st century, most of which provided basic introduction of the process from the beginning to the final solution of the crisis. </p>
<p>From my point of view, combined with the ideas of the documentaries and this chapter, every stakeholders in that financial crisis had part of the responsibility. For example, the investment banks such as the Lehman Brothers and Goldman, were accountable for the purchase of the subprime loans. The consulting companies provided wrong levels for the high risk loans. However, at the same time, all the stakeholders born some loss, such as Lehman Brothers as mentioned before which faced bankruptcy first, and the consulting companies which were almost bankrupt.</p>
<p>There are still many people in this case, including the general public. They suffered more because some of them even lost all their life savings and their house and became homeless. It is always hard for us to imagine the impact of slight changes in the era will have on an individual can be how great, saying nothing of huge events like financial crisis. </p>
<p>Sometimes I think, if possible in the future, I would like to discover a much more precise and accurate model for all the government to use to estimate the future trends of the country economic condition. Although the author thought that sudden crisis could not be predicted, I still believe that there are some clues for us to find and use before the crisis. This can greatly contribute to the human beings well being.</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Reading-reports/" rel="tag"># Reading reports</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2022/02/06/RR%202022-02-06%20Economics%20through%20everyday%20life%20Chapter6/" rel="next" title="Comparison between qualitative and quantatitive analysis -- Thinking on Economics Through Everyday Life Chapter6 Understanding the macroeconomic news">
                <i class="fa fa-chevron-left"></i> Comparison between qualitative and quantatitive analysis -- Thinking on Economics Through Everyday Life Chapter6 Understanding the macroeconomic news
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2022/02/08/RR%202022-02-08%20Economics%20through%20everyday%20life%20Chapter8/" rel="prev" title="Rational decision is more about money costs -- Thinking on Economics Through Everyday Life Chapter8 The social security system, welfare spending, & healthcare in the United States">
                Rational decision is more about money costs -- Thinking on Economics Through Everyday Life Chapter8 The social security system, welfare spending, & healthcare in the United States <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC81MjQ2Ny8yODk0NQ=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/Upload/avatar.JPG"
                alt="" />
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <!-- <a href="/archives/%7C%7C%20archive"> -->
                <a href="https://sylviayirandai.github.io/archives/" target="_Self">
              
                  <span class="site-state-item-count">55</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Extract"><span class="nav-number">1.</span> <span class="nav-text">Extract</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#PartA-The-basics-of-business-cycles"><span class="nav-number">1.1.</span> <span class="nav-text">PartA The basics of business cycles</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PartB-What-causes-business-cycles"><span class="nav-number">1.2.</span> <span class="nav-text">PartB What causes business cycles?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PartC-Recessions-and-depressions"><span class="nav-number">1.3.</span> <span class="nav-text">PartC Recessions and depressions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PartD-From-boom-to-bubble-to-bust"><span class="nav-number">1.4.</span> <span class="nav-text">PartD From boom to bubble to bust</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PartE-The-2007-2008-financial-crisis-Who%E2%80%99s-to-blame"><span class="nav-number">1.5.</span> <span class="nav-text">PartE The 2007-2008 financial crisis: Who’s to blame?</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Personal-thinking"><span class="nav-number">2.</span> <span class="nav-text">Personal thinking</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sylvia Dai</span>

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  









  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>
